---
interface ReviewItem {
  name: string;
  rating: number;
  body: string;
  service?: string;
}

interface Props {
  reviews: ReviewItem[];
}

const { reviews = [] } = Astro.props satisfies Props;
---
<section class="px-4 pb-20 sm:px-6">
  <div class="mx-auto flex max-w-6xl flex-col gap-8">
    <div class="flex flex-col gap-4 md:flex-row md:items-end md:justify-between">
      <div>
        <p class="text-xs uppercase tracking-[0.35em] text-[#ff8a8a]">Reviews</p>
        <h2 class="mt-2 text-3xl font-black uppercase md:text-4xl">Neighbors who vibe with Tender Gardens</h2>
      </div>
      <a href="/reviews" class="inline-flex items-center gap-2 rounded-full border-[3px] border-black bg-white px-5 py-3 text-sm font-bold uppercase tracking-wide transition hover:-translate-y-1 hover:shadow-[6px_6px_0_#111]">
        Read all reviews
        <i class="ri-arrow-right-up-line"></i>
      </a>
    </div>
    <div class="grid gap-6 md:grid-cols-3">
      {reviews.slice(0, 3).map((review) => (
        <article class="flex h-full flex-col gap-4 rounded-3xl border-[3px] border-black bg-white p-6 shadow-[10px_10px_0_#111]">
          <header class="space-y-2">
            <p class="text-sm font-semibold uppercase tracking-wide text-brand">{review.service ?? "Landscape care"}</p>
            <div class="flex items-center gap-2 text-lg font-bold text-[#ffdc58]">
              {Array.from({ length: review.rating }).map(() => <i class="ri-star-fill"></i>)}
            </div>
          </header>
          <p class="flex-1 text-sm text-neutral-700">{review.body}</p>
          <footer class="text-sm font-black uppercase text-[#111]">{review.name}</footer>
        </article>
      ))}
    </div>
  </div>
</section>
